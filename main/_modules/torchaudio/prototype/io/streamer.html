


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>torchaudio.prototype.io.streamer &mdash; Torchaudio nightly documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/katex-math.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
  <!-- Google Analytics -->
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117752657-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-117752657-2');
    </script>
  
  <!-- End Google Analytics -->
  

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../../../../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../../../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../../../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../../../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../../../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../../../../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/audio/stable/index.html">
                  <span class="dropdown-title">torchaudio</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/text/stable/index.html">
                  <span class="dropdown-title">torchtext</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/vision/stable/index.html">
                  <span class="dropdown-title">torchvision</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/elastic/">
                  <span class="dropdown-title">TorchElastic</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/serve/">
                  <span class="dropdown-title">TorchServe</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/xla">
                  <span class="dropdown-title">PyTorch on XLA Devices</span>
                  <p></p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/features">
                  <span class="dropdown-title">About</span>
                  <p>Learn about PyTorchâ€™s features and capabilities</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class="dropdown-title">Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered.</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class="dropdown-title">Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/hub">
                  <span class="dropdown-title">Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">GitHub</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            
    <div class="version">
      <a href='https://pytorch.org/audio/versions.html'>Nightly Build (0.12.0.dev20220315+cpu) &#x25BC</a>
    </div>
    


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          </div>

          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Torchaudio Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Index</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../torchaudio.html">torchaudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../backend.html">torchaudio.backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../functional.html">torchaudio.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../transforms.html">torchaudio.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../datasets.html">torchaudio.datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../models.html">torchaudio.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pipelines.html">torchaudio.pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sox_effects.html">torchaudio.sox_effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../compliance.kaldi.html">torchaudio.compliance.kaldi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kaldi_io.html">torchaudio.kaldi_io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../utils.html">torchaudio.utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Prototype API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../prototype.html">torchaudio.prototype</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../prototype.io.html">torchaudio.prototype.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../prototype.ctc_decoder.html">torchaudio.prototype.ctc_decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../prototype.pipelines.html">torchaudio.prototype.pipelines</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_io_tutorial.html">Audio I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_resampling_tutorial.html">Audio Resampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_data_augmentation_tutorial.html">Audio Data Augmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_feature_extractions_tutorial.html">Audio Feature Extractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_feature_augmentation_tutorial.html">Audio Feature Augmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/audio_datasets_tutorial.html">Audio Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/streaming_api_tutorial.html">Media Stream API</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/speech_recognition_pipeline_tutorial.html">Speech Recognition with Wav2Vec2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/online_asr_tutorial.html">Online ASR with Emformer RNN-T</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/device_asr.html">Device ASR with Emformer RNN-T</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/forced_alignment_tutorial.html">Forced Alignment with Wav2Vec2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/tacotron2_pipeline_tutorial.html">Text-to-Speech with Tacotron2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/mvdr_tutorial.html">MVDR with torchaudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tutorials/asr_inference_with_ctc_decoder_tutorial.html">ASR Inference with CTC Decoder</a></li>
</ul>
<p class="caption"><span class="caption-text">PyTorch Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/docs">PyTorch</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/audio">torchaudio</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/text">torchtext</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/vision">torchvision</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/elastic/">TorchElastic</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/serve">TorchServe</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pytorch.org/xla/">PyTorch on XLA Devices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../../../../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="../../../index.html">Module code</a> &gt;</li>
        
      <li>torchaudio.prototype.io.streamer</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
    
    
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <h1>Source code for torchaudio.prototype.io.streamer</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterator</span>

<span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torchaudio</span>


<div class="viewcode-block" id="SourceStream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.SourceStream">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SourceStream</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;SourceStream()</span>

<span class="sd">    The metadata of a source stream. This class is used when representing streams of</span>
<span class="sd">    media type other than `audio` or `video`.</span>

<span class="sd">    When source stream is `audio` or `video` type, :py:class:`SourceAudioStream` and</span>
<span class="sd">    :py:class:`SourceVideoStream`, which reports additional media-specific attributes,</span>
<span class="sd">    are used respectively.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">media_type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;The type of the stream.</span>
<span class="sd">    One of `audio`, `video`, `data`, `subtitle`, `attachment` and empty string.</span>

<span class="sd">    .. note::</span>
<span class="sd">       Only `audio` and `video` streams are supported for output.</span>
<span class="sd">    .. note::</span>
<span class="sd">       Still images, such as PNG and JPEG formats are reported as `video`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">codec</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Short name of the codec. Such as `pcm_s16le` and `h264`.&quot;&quot;&quot;</span>
    <span class="n">codec_long_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Detailed name of the codec.</span>

<span class="sd">    Such as `&quot;PCM signed 16-bit little-endian&quot;` and `&quot;H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10&quot;`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot;Media format. Such as `s16` and `yuv420p`.</span>

<span class="sd">    Commonly found audio values are;</span>

<span class="sd">    - `u8`, `u8p`: Unsigned 8-bit unsigned interger.</span>
<span class="sd">    - `s16`, `s16p`: 16-bit signed integer.</span>
<span class="sd">    - `s32`, `s32p`: 32-bit signed integer.</span>
<span class="sd">    - `flt`, `fltp`: 32-bit floating-point.</span>

<span class="sd">    .. note::</span>

<span class="sd">       `p` at the end indicates the format is `planar`.</span>
<span class="sd">       Channels are grouped together instead of interspersed in memory.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">bit_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="sd">&quot;&quot;&quot;Bit rate of the stream in bits-per-second.</span>
<span class="sd">    This is an estimated values based on the initial few frames of the stream.</span>
<span class="sd">    For container formats and variable bit rate, it can be 0.</span>
<span class="sd">    &quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="SourceAudioStream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.SourceAudioStream">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SourceAudioStream</span><span class="p">(</span><span class="n">SourceStream</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;SourceAudioStream()</span>

<span class="sd">    The metadata of an audio source stream.</span>

<span class="sd">    In addition to the attributes reported by :py:func:`SourceStream`,</span>
<span class="sd">    when the source stream is audio type, then the following additional attributes</span>
<span class="sd">    are reported.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">sample_rate</span><span class="p">:</span> <span class="nb">float</span>
    <span class="sd">&quot;&quot;&quot;Sample rate of the audio.&quot;&quot;&quot;</span>
    <span class="n">num_channels</span><span class="p">:</span> <span class="nb">int</span>
    <span class="sd">&quot;&quot;&quot;Number of channels.&quot;&quot;&quot;</span></div>


<div class="viewcode-block" id="SourceVideoStream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.SourceVideoStream">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">SourceVideoStream</span><span class="p">(</span><span class="n">SourceStream</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;SourceVideoStream()</span>

<span class="sd">    The metadata of a video source stream.</span>

<span class="sd">    In addition to the attributes reported by :py:func:`SourceStream`,</span>
<span class="sd">    when the source stream is audio type, then the following additional attributes</span>
<span class="sd">    are reported.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span>
    <span class="sd">&quot;&quot;&quot;Width of the video frame in pixel.&quot;&quot;&quot;</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span>
    <span class="sd">&quot;&quot;&quot;Height of the video frame in pixel.&quot;&quot;&quot;</span>
    <span class="n">frame_rate</span><span class="p">:</span> <span class="nb">float</span>
    <span class="sd">&quot;&quot;&quot;Frame rate.&quot;&quot;&quot;</span></div>


<span class="c1"># Indices of SrcInfo returned by low-level `get_src_stream_info`</span>
<span class="c1"># - COMMON</span>
<span class="n">_MEDIA_TYPE</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">_CODEC</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">_CODEC_LONG</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">_FORMAT</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">_BIT_RATE</span> <span class="o">=</span> <span class="mi">4</span>
<span class="c1"># - AUDIO</span>
<span class="n">_SAMPLE_RATE</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">_NUM_CHANNELS</span> <span class="o">=</span> <span class="mi">6</span>
<span class="c1"># - VIDEO</span>
<span class="n">_WIDTH</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">_HEIGHT</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">_FRAME_RATE</span> <span class="o">=</span> <span class="mi">9</span>


<span class="k">def</span> <span class="nf">_parse_si</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">media_type</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">_MEDIA_TYPE</span><span class="p">]</span>
    <span class="n">codec_name</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">_CODEC</span><span class="p">]</span>
    <span class="n">codec_long_name</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">_CODEC_LONG</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">media_type</span> <span class="o">==</span> <span class="s2">&quot;audio&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SourceAudioStream</span><span class="p">(</span>
            <span class="n">media_type</span><span class="p">,</span>
            <span class="n">codec_name</span><span class="p">,</span>
            <span class="n">codec_long_name</span><span class="p">,</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_FORMAT</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_BIT_RATE</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_SAMPLE_RATE</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_NUM_CHANNELS</span><span class="p">],</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">media_type</span> <span class="o">==</span> <span class="s2">&quot;video&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SourceVideoStream</span><span class="p">(</span>
            <span class="n">media_type</span><span class="p">,</span>
            <span class="n">codec_name</span><span class="p">,</span>
            <span class="n">codec_long_name</span><span class="p">,</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_FORMAT</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_BIT_RATE</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_WIDTH</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_HEIGHT</span><span class="p">],</span>
            <span class="n">i</span><span class="p">[</span><span class="n">_FRAME_RATE</span><span class="p">],</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">SourceStream</span><span class="p">(</span><span class="n">media_type</span><span class="p">,</span> <span class="n">codec_name</span><span class="p">,</span> <span class="n">codec_long_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>


<div class="viewcode-block" id="OutputStream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.OutputStream">[docs]</a><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">OutputStream</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;OutputStream()</span>

<span class="sd">    Output stream configured on :py:class:`Streamer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">source_index</span><span class="p">:</span> <span class="nb">int</span>
    <span class="sd">&quot;&quot;&quot;Index of the source stream that this output stream is connected.&quot;&quot;&quot;</span>
    <span class="n">filter_description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="sd">&quot;&quot;&quot;Description of filter graph applied to the source stream.&quot;&quot;&quot;</span></div>


<span class="k">def</span> <span class="nf">_parse_oi</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">OutputStream</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>


<div class="viewcode-block" id="Streamer"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer">[docs]</a><span class="k">class</span> <span class="nc">Streamer</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Fetch and decode audio/video streams chunk by chunk.</span>

<span class="sd">    For the detailed usage of this class, please refer to the tutorial.</span>

<span class="sd">    Args:</span>
<span class="sd">        src (str): Source. Can be a file path, URL, device identifier or filter expression.</span>
<span class="sd">        format (str or None, optional):</span>
<span class="sd">            Override the input format, or specify the source sound device.</span>
<span class="sd">            Default: ``None`` (no override nor device input).</span>

<span class="sd">            This argument serves two different usecases.</span>

<span class="sd">            1) Override the source format.</span>
<span class="sd">               This is useful when the input data do not contain a header.</span>

<span class="sd">            2) Specify the input source device.</span>
<span class="sd">               This allows to load media stream from hardware devices,</span>
<span class="sd">               such as microphone, camera and screen, or a virtual device.</span>


<span class="sd">            .. note::</span>

<span class="sd">               This option roughly corresponds to ``-f`` option of ``ffmpeg`` command.</span>
<span class="sd">               Please refer to the ffmpeg documentations for the possible values.</span>

<span class="sd">               https://ffmpeg.org/ffmpeg-formats.html</span>

<span class="sd">               For device access, the available values vary based on hardware (AV device) and</span>
<span class="sd">               software configuration (ffmpeg build).</span>

<span class="sd">               https://ffmpeg.org/ffmpeg-devices.html</span>

<span class="sd">        option (dict of str to str, optional):</span>
<span class="sd">            Custom option passed when initializing format context (opening source).</span>

<span class="sd">            You can use this argument to change the input source before it is passed to decoder.</span>

<span class="sd">            Default: ``None``.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">src</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="nb">format</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_s</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_init</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="nb">format</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_find_best_audio_stream</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_i_audio</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">i</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_find_best_video_stream</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_i_video</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">i</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">num_src_streams</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Number of streams found in the provided media source.</span>

<span class="sd">        :type: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_num_src_streams</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">num_out_streams</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Number of output streams configured by client code.</span>

<span class="sd">        :type: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_num_out_streams</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_audio_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The index of default audio stream. ``None`` if there is no audio stream</span>

<span class="sd">        :type: Optional[int]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i_audio</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">default_video_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The index of default video stream. ``None`` if there is no video stream</span>

<span class="sd">        :type: Optional[int]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_i_video</span>

<div class="viewcode-block" id="Streamer.get_src_stream_info"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.get_src_stream_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_src_stream_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torchaudio</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">SourceStream</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the metadata of source stream</span>

<span class="sd">        Args:</span>
<span class="sd">            i (int): Stream index.</span>
<span class="sd">        Returns:</span>
<span class="sd">            SourceStream</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_parse_si</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_get_src_stream_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span></div>

<div class="viewcode-block" id="Streamer.get_out_stream_info"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.get_out_stream_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_out_stream_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">torchaudio</span><span class="o">.</span><span class="n">prototype</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">OutputStream</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get the metadata of output stream</span>

<span class="sd">        Args:</span>
<span class="sd">            i (int): Stream index.</span>
<span class="sd">        Returns:</span>
<span class="sd">            OutputStream</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_parse_oi</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_get_out_stream_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span></div>

<div class="viewcode-block" id="Streamer.seek"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.seek">[docs]</a>    <span class="k">def</span> <span class="nf">seek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Seek the stream to the given timestamp [second]</span>

<span class="sd">        Args:</span>
<span class="sd">            timestamp (float): Target time in second.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_seek</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.add_basic_audio_stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.add_basic_audio_stream">[docs]</a>    <span class="k">def</span> <span class="nf">add_basic_audio_stream</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">frames_per_chunk</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">buffer_chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">stream_index</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sample_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">dtype</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">dtype</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add output audio stream</span>

<span class="sd">        Args:</span>
<span class="sd">            frames_per_chunk (int): Number of frames returned by Streamer as a chunk.</span>
<span class="sd">                If the source stream is exhausted before enough frames are buffered,</span>
<span class="sd">                then the chunk is returned as-is.</span>

<span class="sd">            buffer_chunk_size (int, optional): Internal buffer size.</span>
<span class="sd">                When this many chunks are created, but</span>
<span class="sd">                client code does not pop the chunk, if a new frame comes in, the old</span>
<span class="sd">                chunk is dropped.</span>

<span class="sd">            stream_index (int or None, optional): The source audio stream index.</span>
<span class="sd">                If omitted, :py:attr:`default_audio_stream` is used.</span>

<span class="sd">            sample_rate (int or None, optional): If provided, resample the audio.</span>

<span class="sd">            dtype (torch.dtype, optional): If not ``None``, change the output sample precision.</span>
<span class="sd">                If floating point, then the sample value range is</span>
<span class="sd">                `[-1, 1]`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_audio_stream</span> <span class="k">if</span> <span class="n">stream_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">stream_index</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_add_basic_audio_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">frames_per_chunk</span><span class="p">,</span> <span class="n">buffer_chunk_size</span><span class="p">,</span> <span class="n">sample_rate</span><span class="p">,</span> <span class="n">dtype</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.add_basic_video_stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.add_basic_video_stream">[docs]</a>    <span class="k">def</span> <span class="nf">add_basic_video_stream</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">frames_per_chunk</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">buffer_chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">stream_index</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">frame_rate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add output video stream</span>

<span class="sd">        Args:</span>
<span class="sd">            frames_per_chunk (int): Number of frames returned by Streamer as a chunk.</span>
<span class="sd">                If the source stream is exhausted before enough frames are buffered,</span>
<span class="sd">                then the chunk is returned as-is.</span>

<span class="sd">            buffer_chunk_size (int, optional): Internal buffer size.</span>
<span class="sd">                When this many chunks are created, but</span>
<span class="sd">                client code does not pop the chunk, if a new frame comes in, the old</span>
<span class="sd">                chunk is dropped.</span>

<span class="sd">            stream_index (int or None, optional): The source video stream index.</span>
<span class="sd">                If omitted, :py:attr:`default_video_stream` is used.</span>

<span class="sd">            frame_rate (int or None, optional): If provided, change the frame rate.</span>

<span class="sd">            width (int or None, optional): If provided, change the image width. Unit: Pixel.</span>
<span class="sd">            height (int or None, optional): If provided, change the image height. Unit: Pixel.</span>
<span class="sd">            format (str, optional): Change the format of image channels. Valid values are,</span>

<span class="sd">                - `RGB`: 8 bits * 3 channels</span>
<span class="sd">                - `BGR`: 8 bits * 3 channels</span>
<span class="sd">                - `GRAY`: 8 bits * 1 channels</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_video_stream</span> <span class="k">if</span> <span class="n">stream_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">stream_index</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_add_basic_video_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span>
            <span class="n">i</span><span class="p">,</span>
            <span class="n">frames_per_chunk</span><span class="p">,</span>
            <span class="n">buffer_chunk_size</span><span class="p">,</span>
            <span class="n">frame_rate</span><span class="p">,</span>
            <span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="p">,</span>
            <span class="nb">format</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.add_audio_stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.add_audio_stream">[docs]</a>    <span class="k">def</span> <span class="nf">add_audio_stream</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">frames_per_chunk</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">buffer_chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">stream_index</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filter_desc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add output audio stream</span>

<span class="sd">        Args:</span>
<span class="sd">            frames_per_chunk (int): Number of frames returned by Streamer as a chunk.</span>
<span class="sd">                If the source stream is exhausted before enough frames are buffered,</span>
<span class="sd">                then the chunk is returned as-is.</span>

<span class="sd">            buffer_chunk_size (int, optional): Internal buffer size.</span>
<span class="sd">                When this many chunks are created, but</span>
<span class="sd">                client code does not pop the chunk, if a new frame comes in, the old</span>
<span class="sd">                chunk is dropped.</span>

<span class="sd">            stream_index (int or None, optional): The source audio stream index.</span>
<span class="sd">                If omitted, :py:attr:`default_audio_stream` is used.</span>

<span class="sd">            filter_desc (str or None, optional): Filter description.</span>
<span class="sd">                The list of available filters can be found at</span>
<span class="sd">                https://ffmpeg.org/ffmpeg-filters.html</span>
<span class="sd">                Note that complex filters are not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_audio_stream</span> <span class="k">if</span> <span class="n">stream_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">stream_index</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_add_audio_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">frames_per_chunk</span><span class="p">,</span> <span class="n">buffer_chunk_size</span><span class="p">,</span> <span class="n">filter_desc</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.add_video_stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.add_video_stream">[docs]</a>    <span class="k">def</span> <span class="nf">add_video_stream</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">frames_per_chunk</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">buffer_chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">stream_index</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">filter_desc</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add output video stream</span>

<span class="sd">        Args:</span>
<span class="sd">            frames_per_chunk (int): Number of frames returned by Streamer as a chunk.</span>
<span class="sd">                If the source stream is exhausted before enough frames are buffered,</span>
<span class="sd">                then the chunk is returned as-is.</span>

<span class="sd">            buffer_chunk_size (int): Internal buffer size.</span>
<span class="sd">                When this many chunks are created, but</span>
<span class="sd">                client code does not pop the chunk, if a new frame comes in, the old</span>
<span class="sd">                chunk is dropped.</span>

<span class="sd">            stream_index (int or None, optional): The source video stream index.</span>
<span class="sd">                If omitted, :py:attr:`default_video_stream` is used.</span>

<span class="sd">            filter_desc (str or None, optional): Filter description.</span>
<span class="sd">                The list of available filters can be found at</span>
<span class="sd">                https://ffmpeg.org/ffmpeg-filters.html</span>
<span class="sd">                Note that complex filters are not supported.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_video_stream</span> <span class="k">if</span> <span class="n">stream_index</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">stream_index</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_add_video_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">frames_per_chunk</span><span class="p">,</span> <span class="n">buffer_chunk_size</span><span class="p">,</span> <span class="n">filter_desc</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.remove_stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.remove_stream">[docs]</a>    <span class="k">def</span> <span class="nf">remove_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Remove an output stream.</span>

<span class="sd">        Args:</span>
<span class="sd">            i (int): Index of the output stream to be removed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_remove_stream</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.process_packet"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.process_packet">[docs]</a>    <span class="k">def</span> <span class="nf">process_packet</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">backoff</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Read the source media and process one packet.</span>

<span class="sd">        If a packet is read successfully, then the data in the packet will</span>
<span class="sd">        be decoded and passed to corresponding output stream processors.</span>

<span class="sd">        If the packet belongs to a source stream that is not connected to</span>
<span class="sd">        an output stream, then the data are discarded.</span>

<span class="sd">        When the source reaches EOF, then it triggers all the output stream</span>
<span class="sd">        processors to enter drain mode. All the output stream processors</span>
<span class="sd">        flush the pending frames.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout (float or None, optional): Timeout in milli seconds.</span>

<span class="sd">                This argument changes the retry behavior when it failed to</span>
<span class="sd">                process a packet due to the underlying media resource being</span>
<span class="sd">                temporarily unavailable.</span>

<span class="sd">                When using a media device such as a microphone, there are cases</span>
<span class="sd">                where the underlying buffer is not ready.</span>
<span class="sd">                Calling this function in such case would cause the system to report</span>
<span class="sd">                `EAGAIN (resource temporarily unavailable)`.</span>

<span class="sd">                * ``&gt;=0``: Keep retrying until the given time passes.</span>

<span class="sd">                * ``0&lt;``: Keep retrying forever.</span>

<span class="sd">                * ``None`` : No retrying and raise an exception immediately.</span>

<span class="sd">                Default: ``None``.</span>

<span class="sd">                Note:</span>

<span class="sd">                    The retry behavior is applicable only when the reason is the</span>
<span class="sd">                    unavailable resource. It is not invoked if the reason of failure is</span>
<span class="sd">                    other.</span>

<span class="sd">            backoff (float, optional): Time to wait before retrying in milli seconds.</span>

<span class="sd">                This option is effective only when `timeout` is effective. (not ``None``)</span>

<span class="sd">                When `timeout` is effective, this `backoff` controls how long the function</span>
<span class="sd">                should wait before retrying. Default: ``10.0``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int:</span>
<span class="sd">                ``0``</span>
<span class="sd">                A packet was processed properly. The caller can keep</span>
<span class="sd">                calling this function to buffer more frames.</span>

<span class="sd">                ``1``</span>
<span class="sd">                The streamer reached EOF. All the output stream processors</span>
<span class="sd">                flushed the pending frames. The caller should stop calling</span>
<span class="sd">                this method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_process_packet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">backoff</span><span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.process_all_packets"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.process_all_packets">[docs]</a>    <span class="k">def</span> <span class="nf">process_all_packets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Process packets until it reaches EOF.&quot;&quot;&quot;</span>
        <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_process_all_packets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.is_buffer_ready"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.is_buffer_ready">[docs]</a>    <span class="k">def</span> <span class="nf">is_buffer_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Returns true if all the output streams have at least one chunk filled.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_is_buffer_ready</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span></div>

<div class="viewcode-block" id="Streamer.pop_chunks"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.pop_chunks">[docs]</a>    <span class="k">def</span> <span class="nf">pop_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Pop one chunk from all the output stream buffers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[Optional[Tensor]]:</span>
<span class="sd">                Buffer contents.</span>
<span class="sd">                If a buffer does not contain any frame, then `None` is returned instead.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">ops</span><span class="o">.</span><span class="n">torchaudio</span><span class="o">.</span><span class="n">ffmpeg_streamer_pop_chunks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_s</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_fill_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">backoff</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Keep processing packets until all buffers have at least one chunk</span>

<span class="sd">        Returns:</span>
<span class="sd">            int:</span>
<span class="sd">                ``0``</span>
<span class="sd">                Packets are processed properly and buffers are</span>
<span class="sd">                ready to be popped once.</span>

<span class="sd">                ``1``</span>
<span class="sd">                The streamer reached EOF. All the output stream processors</span>
<span class="sd">                flushed the pending frames. The caller should stop calling</span>
<span class="sd">                this method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_buffer_ready</span><span class="p">():</span>
            <span class="n">code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_packet</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">backoff</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">code</span>
        <span class="k">return</span> <span class="mi">0</span>

<div class="viewcode-block" id="Streamer.stream"><a class="viewcode-back" href="../../../../prototype.io.html#torchaudio.prototype.io.Streamer.stream">[docs]</a>    <span class="k">def</span> <span class="nf">stream</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">backoff</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">],</span> <span class="o">...</span><span class="p">]]:</span>
        <span class="sd">&quot;&quot;&quot;Return an iterator that generates output tensors</span>

<span class="sd">        Arguments:</span>
<span class="sd">            timeout (float or None, optional): See</span>
<span class="sd">                :py:func:`~Streamer.process_packet`. (Default: ``None``)</span>

<span class="sd">            backoff (float, optional): See</span>
<span class="sd">                :py:func:`~Streamer.process_packet`. (Default: ``10.0``)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Iterator[Tuple[Optional[torch.Tensor], ...]]:</span>
<span class="sd">                Iterator that yields a tuple of chunks that correspond to the output</span>
<span class="sd">                streams defined by client code.</span>
<span class="sd">                If an output stream is exhausted, then the chunk Tensor is substituted</span>
<span class="sd">                with ``None``.</span>
<span class="sd">                The iterator stops if all the output streams are exhausted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_out_streams</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;No output stream is configured.&quot;</span><span class="p">)</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fill_buffer</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">backoff</span><span class="p">):</span>
                <span class="k">break</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop_chunks</span><span class="p">()</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">chunks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop_chunks</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">c</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">chunks</span><span class="p">):</span>
                <span class="k">return</span>
            <span class="k">yield</span> <span class="n">chunks</span></div></div>
</pre></div>

             </article>
             
            </div>
            <footer>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Torchaudio Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>


        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              
            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
         <script src="../../../../_static/jquery.js"></script>
         <script src="../../../../_static/underscore.js"></script>
         <script src="../../../../_static/doctools.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js"></script>
         <script src="../../../../_static/katex_autorenderer.js"></script>
     

  

  <script type="text/javascript" src="../../../../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../../../../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

     
    <script type="text/javascript">
      $(document).ready(function() {
	  var downloadNote = $(".sphx-glr-download-link-note.admonition.note");
	  if (downloadNote.length >= 1) {
	      var tutorialUrl = $("#tutorial-type").text();
	      var githubLink = "https://github.com/pytorch/audio/blob/main/examples/"  + tutorialUrl + ".py",
		  notebookLink = $(".reference.download")[1].href,
		  notebookDownloadPath = notebookLink.split('_downloads')[1],
		  colabLink = "https://colab.research.google.com/github/pytorch/audio/blob/gh-pages/main/_downloads" + notebookDownloadPath;

	      $(".pytorch-call-to-action-links a[data-response='Run in Google Colab']").attr("href", colabLink);
	      $(".pytorch-call-to-action-links a[data-response='View on Github']").attr("href", githubLink);
	  }
      });
    </script>


  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Stay Connected</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="https://www.facebook.com/pytorch" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/pytorch" target="_blank" class="twitter"></a>
            <a href="https://www.youtube.com/pytorch" target="_blank" class="youtube"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebookâ€™s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../../../../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/hub">PyTorch Hub</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="resources-mobile-menu-title">
            Docs
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/audio/stable/index.html">torchaudio</a>
            </li>

            <li>
              <a href="https://pytorch.org/text/stable/index.html">torchtext</a>
            </li>

            <li>
              <a href="https://pytorch.org/vision/stable/index.html">torchvision</a>
            </li>

            <li>
              <a href="https://pytorch.org/elastic/">TorchElastic</a>
            </li>

            <li>
              <a href="https://pytorch.org/serve/">TorchServe</a>
            </li>

            <li>
              <a href="https://pytorch.org/xla">PyTorch on XLA Devices</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/resources">Developer Resources</a>
            </li>

            <li>
              <a href="https://pytorch.org/features">About</a>
            </li>

            <li>
              <a href="https://pytorch.org/hub">Models (Beta)</a>
            </li>

            <li>
              <a href="https://pytorch.org/#community-module">Community</a>
            </li>

            <li>
              <a href="https://discuss.pytorch.org/">Forums</a>
            </li>
          </ul>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../../../../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>