


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>StreamingMediaDecoder &mdash; Torchaudio 2.2.0.dev20240125 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/katex-math.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="StreamingMediaEncoder" href="torio.io.StreamingMediaEncoder.html" />
    <link rel="prev" title="torio.io" href="../torio.io.html" />
  <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-T8XT4PS');</script>
    <!-- End Google Tag Manager -->
  

  
  <script src="../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>

          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/audio/stable/index.html">
                  <span class="dropdown-title">torchaudio</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/text/stable/index.html">
                  <span class="dropdown-title">torchtext</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/vision/stable/index.html">
                  <span class="dropdown-title">torchvision</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/torcharrow">
                  <span class="dropdown-title">torcharrow</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/data">
                  <span class="dropdown-title">TorchData</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/torchrec">
                  <span class="dropdown-title">TorchRec</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/serve/">
                  <span class="dropdown-title">TorchServe</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/torchx/">
                  <span class="dropdown-title">TorchX</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://pytorch.org/xla">
                  <span class="dropdown-title">PyTorch on XLA Devices</span>
                  <p></p>
                </a>
            </div>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/features">
                  <span class="dropdown-title">About</span>
                  <p>Learn about PyTorch’s features and capabilities</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/foundation">
                  <span class="dropdown-title">PyTorch Foundation</span>
                  <p>Learn about the PyTorch foundation</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/#community-module">
                  <span class="dropdown-title">Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered.</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/community-stories">
                  <span class="dropdown-title">Community Stories</span>
                  <p>Learn how our community solves real, everyday machine learning problems with PyTorch.</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class="dropdown-title">Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/events">
                  <span class="dropdown-title">Events</span>
                  <p>Find events, webinars, and podcasts</p>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/hub">
                  <span class="dropdown-title">Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
              </div>
            </div>
          </li>

          <li>
            <a href="https://github.com/pytorch/pytorch">GitHub</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            
    <div class="version">
      <a href="../../versions.html"><span style="font-size:110%">2.2.0.dev20240125 &#x25BC</span></a>
    </div>
    


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          </div>

          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Torchaudio Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supported_features.html">Supported Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature_classifications.html">Feature Classifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logo.html">TorchAudio Logo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing pre-built binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Building from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.linux.html">Building on Linux and macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.windows.html">Building on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.jetson.html">Building on Jetson</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.ffmpeg.html">Enabling GPU video decoder/encoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_io_tutorial.html">Audio I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/streamreader_basic_tutorial.html">StreamReader Basic Usages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/streamreader_advanced_tutorial.html">StreamReader Advanced Usages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/streamwriter_basic_tutorial.html">StreamWriter Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/streamwriter_advanced.html">StreamWriter Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/nvdec_tutorial.html">Accelerated video decoding with NVDEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/nvenc_tutorial.html">Accelerated video encoding with NVENC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/effector_tutorial.html">AudioEffector Usages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_resampling_tutorial.html">Audio Resampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_data_augmentation_tutorial.html">Audio Data Augmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_feature_extractions_tutorial.html">Audio Feature Extractions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_feature_augmentation_tutorial.html">Audio Feature Augmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/ctc_forced_alignment_api_tutorial.html">CTC forced alignment API tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/oscillator_tutorial.html">Oscillator and ADSR envelope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/additive_synthesis_tutorial.html">Additive Synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/filter_design_tutorial.html">Filter design tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/subtractive_synthesis_tutorial.html">Subtractive synthesis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/audio_datasets_tutorial.html">Audio Datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Pipeline Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/speech_recognition_pipeline_tutorial.html">Speech Recognition with Wav2Vec2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/asr_inference_with_ctc_decoder_tutorial.html">ASR Inference with CTC Decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/asr_inference_with_cuda_ctc_decoder_tutorial.html">ASR Inference with CUDA CTC Decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/online_asr_tutorial.html">Online ASR with Emformer RNN-T</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/device_asr.html">Device ASR with Emformer RNN-T</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/device_avsr.html">Device AV-ASR with Emformer RNN-T</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/forced_alignment_tutorial.html">Forced Alignment with Wav2Vec2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/forced_alignment_for_multilingual_data_tutorial.html">Forced alignment for multilingual data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tacotron2_pipeline_tutorial.html">Text-to-Speech with Tacotron2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/mvdr_tutorial.html">Speech Enhancement with MVDR Beamforming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/hybrid_demucs_tutorial.html">Music Source Separation with Hybrid Demucs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/squim_tutorial.html">Torchaudio-Squim: Non-intrusive Speech Assessment in TorchAudio</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training Recipes</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pytorch/audio/tree/main/examples/asr/librispeech_conformer_rnnt">Conformer RNN-T ASR</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pytorch/audio/tree/main/examples/asr/emformer_rnnt">Emformer RNN-T ASR</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pytorch/audio/tree/main/examples/source_separation">Conv-TasNet Source Separation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pytorch/audio/tree/main/examples/hubert">HuBERT Pre-training and Fine-tuning (ASR)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pytorch/audio/tree/main/examples/avsr">Real-time AV-ASR</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../torchaudio.html">torchaudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io.html">torchaudio.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functional.html">torchaudio.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transforms.html">torchaudio.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">torchaudio.datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">torchaudio.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.decoder.html">torchaudio.models.decoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines.html">torchaudio.pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sox_effects.html">torchaudio.sox_effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compliance.kaldi.html">torchaudio.compliance.kaldi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kaldi_io.html">torchaudio.kaldi_io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">torchaudio.utils</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../torio.html">torio</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../torio.io.html">torio.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="../torio.utils.html">torio.utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python Prototype API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prototype.html">torchaudio.prototype</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototype.datasets.html">torchaudio.prototype.datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototype.functional.html">torchaudio.prototype.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototype.models.html">torchaudio.prototype.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototype.pipelines.html">torchaudio.prototype.pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototype.transforms.html">torchaudio.prototype.transforms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ Prototype API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libtorio.html">libtorio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libtorio.stream_reader.html">torio::io::StreamingMediaDecoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libtorio.stream_writer.html">torio::io::StreamingMediaEncoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">PyTorch Libraries</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/docs">PyTorch</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/audio">torchaudio</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/text">torchtext</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/vision">torchvision</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/elastic/">TorchElastic</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pytorch.org/serve">TorchServe</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pytorch.org/xla/">PyTorch on XLA Devices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="../torio.io.html">torio.io</a> &gt;</li>
        
      <li>StreamingMediaDecoder &gt;</li>
      
      <li>Nightly (unstable)</li>
      
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/torio.io.StreamingMediaDecoder.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
    
    
          <!-- Google Tag Manager (noscript) -->
          <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8XT4PS"
          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
          <!-- End Google Tag Manager (noscript) -->
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <section id="streamingmediadecoder">
<h1>StreamingMediaDecoder<a class="headerlink" href="#streamingmediadecoder" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io.</span></span><span class="sig-name descname"><span class="pre">StreamingMediaDecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.12)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.BinaryIO" title="(in Python v3.12)"><span class="pre">BinaryIO</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4096</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch and decode audio/video streams chunk by chunk.</p>
<p>For the detailed usage of this class, please refer to the tutorial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>path-like</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)"><em>bytes</em></a><em> or </em><em>file-like object</em>) – <p>The media source.
If string-type, it must be a resource indicator that FFmpeg can
handle. This includes a file path, URL, device identifier or
filter expression. The supported value depends on the FFmpeg found
in the system.</p>
<p>If bytes, it must be an encoded media data in contiguous memory.</p>
<p>If file-like object, it must support <cite>read</cite> method with the signature
<cite>read(size: int) -&gt; bytes</cite>.
Additionally, if the file-like object has <cite>seek</cite> method, it uses
the method when parsing media metadata. This improves the reliability
of codec detection. The signagure of <cite>seek</cite> method must be
<cite>seek(offset: int, whence: int) -&gt; int</cite>.</p>
<p>Please refer to the following for the expected signature and behavior
of <cite>read</cite> and <cite>seek</cite> method.</p>
<ul>
<li><p><a class="reference external" href="https://docs.python.org/3/library/io.html#io.BufferedIOBase.read">https://docs.python.org/3/library/io.html#io.BufferedIOBase.read</a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/io.html#io.IOBase.seek">https://docs.python.org/3/library/io.html#io.IOBase.seek</a></p></li>
</ul>
</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Override the input format, or specify the source sound device.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code> (no override nor device input).</p>
<p>This argument serves two different usecases.</p>
<ol class="arabic simple">
<li><p>Override the source format.
This is useful when the input data do not contain a header.</p></li>
<li><p>Specify the input source device.
This allows to load media stream from hardware devices,
such as microphone, camera and screen, or a virtual device.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option roughly corresponds to <code class="docutils literal notranslate"><span class="pre">-f</span></code> option of <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> command.
Please refer to the ffmpeg documentations for the possible values.</p>
<p><a class="reference external" href="https://ffmpeg.org/ffmpeg-formats.html#Demuxers">https://ffmpeg.org/ffmpeg-formats.html#Demuxers</a></p>
<p>Please use <a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_demuxers" title="torio.utils.ffmpeg_utils.get_demuxers"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_demuxers()</span></code></a> to list the
demultiplexers available in the current environment.</p>
<p>For device access, the available values vary based on hardware (AV device) and
software configuration (ffmpeg build).</p>
<p><a class="reference external" href="https://ffmpeg.org/ffmpeg-devices.html#Input-Devices">https://ffmpeg.org/ffmpeg-devices.html#Input-Devices</a></p>
<p>Please use <a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_input_devices" title="torio.utils.ffmpeg_utils.get_input_devices"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_input_devices()</span></code></a> to list
the input devices available in the current environment.</p>
</div>
</p></li>
<li><p><strong>option</strong> (<em>dict of str to str</em><em>, </em><em>optional</em>) – <p>Custom option passed when initializing format context (opening source).</p>
<p>You can use this argument to change the input source before it is passed to decoder.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – <p>The internal buffer size in byte. Used only when <cite>src</cite> is file-like object.</p>
<p>Default: <cite>4096</cite>.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<section id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this heading">¶</a></h2>
<section id="default-audio-stream">
<h3>default_audio_stream<a class="headerlink" href="#default-audio-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py property">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.default_audio_stream">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">default_audio_stream</span></span><a class="headerlink" href="#torio.io.StreamingMediaDecoder.default_audio_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of default audio stream. <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no audio stream</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="default-video-stream">
<h3>default_video_stream<a class="headerlink" href="#default-video-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py property">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.default_video_stream">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">default_video_stream</span></span><a class="headerlink" href="#torio.io.StreamingMediaDecoder.default_video_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of default video stream. <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no video stream</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="num-out-streams">
<h3>num_out_streams<a class="headerlink" href="#num-out-streams" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py property">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.num_out_streams">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">num_out_streams</span></span><a class="headerlink" href="#torio.io.StreamingMediaDecoder.num_out_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of output streams configured by client code.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="num-src-streams">
<h3>num_src_streams<a class="headerlink" href="#num-src-streams" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py property">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.num_src_streams">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">num_src_streams</span></span><a class="headerlink" href="#torio.io.StreamingMediaDecoder.num_src_streams" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of streams found in the provided media source.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</div>
</section>
</section>
<section id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">¶</a></h2>
<section id="add-audio-stream">
<h3>add_audio_stream<a class="headerlink" href="#add-audio-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.add_audio_stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">add_audio_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames_per_chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_desc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.add_audio_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.add_audio_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Add output audio stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames_per_chunk</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – <p>Number of frames returned as one chunk.
If the source stream is exhausted before enough frames are buffered,
then the chunk is returned as-is.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables chunking and <a class="reference internal" href="#torio.io.StreamingMediaDecoder.pop_chunks" title="torio.io.StreamingMediaDecoder.pop_chunks"><code class="xref py py-func docutils literal notranslate"><span class="pre">pop_chunks()</span></code></a> method
will concatenate all the buffered frames and return it.</p>
</p></li>
<li><p><strong>buffer_chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – <p>Internal buffer size.
When the number of chunks buffered exceeds this number, old frames are
dropped. For example, if <code class="docutils literal notranslate"><span class="pre">frames_per_chunk</span></code> is 5 and <code class="docutils literal notranslate"><span class="pre">buffer_chunk_size</span></code> is
3, then frames older than <code class="docutils literal notranslate"><span class="pre">15</span></code> are dropped.
Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables this behavior.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</p></li>
<li><p><strong>stream_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The source audio stream index.
If omitted, <a class="reference internal" href="#torio.io.StreamingMediaDecoder.default_audio_stream" title="torio.io.StreamingMediaDecoder.default_audio_stream"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_audio_stream</span></code></a> is used.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>The name of the decoder to be used.
When provided, use the specified decoder instead of the default one.</p>
<p>To list the available decoders, please use
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_audio_decoders" title="torio.utils.ffmpeg_utils.get_audio_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_audio_decoders()</span></code></a> for audio, and
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_video_decoders" title="torio.utils.ffmpeg_utils.get_video_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_video_decoders()</span></code></a> for video.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>decoder_option</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Options passed to decoder.
Mapping from str to str. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>To list decoder options for a decoder, you can use
<code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-h</span> <span class="pre">decoder=&lt;DECODER&gt;</span></code> command.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In addition to decoder-specific options, you can also pass options related
to multithreading. They are effective only if the decoder support them.
If neither of them are provided, StreamingMediaDecoder defaults to single thread.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;threads&quot;</span></code>: The number of threads (in str).
Providing the value <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> will let FFmpeg decides based on its heuristics.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;thread_type&quot;</span></code>: Which multithreading method to use.
The valid values are <code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>.
Note that each decoder supports different set of methods.
If not provided, a default value is used.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code>: Decode more than one frame at once.
Each thread handles one frame.
This will increase decoding delay by one frame per thread</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>: Decode more than one part of a single frame at once.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</p></li>
<li><p><strong>filter_desc</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Filter description.
The list of available filters can be found at
<a class="reference external" href="https://ffmpeg.org/ffmpeg-filters.html">https://ffmpeg.org/ffmpeg-filters.html</a>
Note that complex filters are not supported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="add-basic-audio-stream">
<h3>add_basic_audio_stream<a class="headerlink" href="#add-basic-audio-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.add_basic_audio_stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">add_basic_audio_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames_per_chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'fltp'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_channels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.add_basic_audio_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.add_basic_audio_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Add output audio stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames_per_chunk</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – <p>Number of frames returned as one chunk.
If the source stream is exhausted before enough frames are buffered,
then the chunk is returned as-is.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables chunking and <a class="reference internal" href="#torio.io.StreamingMediaDecoder.pop_chunks" title="torio.io.StreamingMediaDecoder.pop_chunks"><code class="xref py py-func docutils literal notranslate"><span class="pre">pop_chunks()</span></code></a> method
will concatenate all the buffered frames and return it.</p>
</p></li>
<li><p><strong>buffer_chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – <p>Internal buffer size.
When the number of chunks buffered exceeds this number, old frames are
dropped. For example, if <code class="docutils literal notranslate"><span class="pre">frames_per_chunk</span></code> is 5 and <code class="docutils literal notranslate"><span class="pre">buffer_chunk_size</span></code> is
3, then frames older than <code class="docutils literal notranslate"><span class="pre">15</span></code> are dropped.
Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables this behavior.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</p></li>
<li><p><strong>stream_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The source audio stream index.
If omitted, <a class="reference internal" href="#torio.io.StreamingMediaDecoder.default_audio_stream" title="torio.io.StreamingMediaDecoder.default_audio_stream"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_audio_stream</span></code></a> is used.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>The name of the decoder to be used.
When provided, use the specified decoder instead of the default one.</p>
<p>To list the available decoders, please use
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_audio_decoders" title="torio.utils.ffmpeg_utils.get_audio_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_audio_decoders()</span></code></a> for audio, and
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_video_decoders" title="torio.utils.ffmpeg_utils.get_video_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_video_decoders()</span></code></a> for video.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>decoder_option</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Options passed to decoder.
Mapping from str to str. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>To list decoder options for a decoder, you can use
<code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-h</span> <span class="pre">decoder=&lt;DECODER&gt;</span></code> command.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In addition to decoder-specific options, you can also pass options related
to multithreading. They are effective only if the decoder support them.
If neither of them are provided, StreamingMediaDecoder defaults to single thread.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;threads&quot;</span></code>: The number of threads (in str).
Providing the value <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> will let FFmpeg decides based on its heuristics.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;thread_type&quot;</span></code>: Which multithreading method to use.
The valid values are <code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>.
Note that each decoder supports different set of methods.
If not provided, a default value is used.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code>: Decode more than one frame at once.
Each thread handles one frame.
This will increase decoding delay by one frame per thread</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>: Decode more than one part of a single frame at once.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – <p>Output sample format (precision).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the output chunk has dtype corresponding to
the precision of the source audio.</p>
<p>Otherwise, the sample is converted and the output dtype is changed
as following.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;u8p&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.uint8</span></code> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s16p&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.int16</span></code> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s32p&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.int32</span></code> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s64p&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.int64</span></code> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fltp&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.float32</span></code> type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dblp&quot;</span></code>: The output is <code class="docutils literal notranslate"><span class="pre">torch.float64</span></code> type.</p></li>
</ul>
<p>Default: <code class="docutils literal notranslate"><span class="pre">&quot;fltp&quot;</span></code>.</p>
</p></li>
<li><p><strong>sample_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, resample the audio.</p></li>
<li><p><strong>num_channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, or </em><em>None</em><em>, </em><em>optional</em>) – If provided, change the number of channels.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="add-basic-video-stream">
<h3>add_basic_video_stream<a class="headerlink" href="#add-basic-video-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.add_basic_video_stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">add_basic_video_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames_per_chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rgb24'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frame_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hw_accel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.add_basic_video_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.add_basic_video_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Add output video stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames_per_chunk</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – <p>Number of frames returned as one chunk.
If the source stream is exhausted before enough frames are buffered,
then the chunk is returned as-is.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables chunking and <a class="reference internal" href="#torio.io.StreamingMediaDecoder.pop_chunks" title="torio.io.StreamingMediaDecoder.pop_chunks"><code class="xref py py-func docutils literal notranslate"><span class="pre">pop_chunks()</span></code></a> method
will concatenate all the buffered frames and return it.</p>
</p></li>
<li><p><strong>buffer_chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – <p>Internal buffer size.
When the number of chunks buffered exceeds this number, old frames are
dropped. For example, if <code class="docutils literal notranslate"><span class="pre">frames_per_chunk</span></code> is 5 and <code class="docutils literal notranslate"><span class="pre">buffer_chunk_size</span></code> is
3, then frames older than <code class="docutils literal notranslate"><span class="pre">15</span></code> are dropped.
Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables this behavior.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</p></li>
<li><p><strong>stream_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The source video stream index.
If omitted, <a class="reference internal" href="#torio.io.StreamingMediaDecoder.default_video_stream" title="torio.io.StreamingMediaDecoder.default_video_stream"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_video_stream</span></code></a> is used.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>The name of the decoder to be used.
When provided, use the specified decoder instead of the default one.</p>
<p>To list the available decoders, please use
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_audio_decoders" title="torio.utils.ffmpeg_utils.get_audio_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_audio_decoders()</span></code></a> for audio, and
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_video_decoders" title="torio.utils.ffmpeg_utils.get_video_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_video_decoders()</span></code></a> for video.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>decoder_option</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Options passed to decoder.
Mapping from str to str. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>To list decoder options for a decoder, you can use
<code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-h</span> <span class="pre">decoder=&lt;DECODER&gt;</span></code> command.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In addition to decoder-specific options, you can also pass options related
to multithreading. They are effective only if the decoder support them.
If neither of them are provided, StreamingMediaDecoder defaults to single thread.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;threads&quot;</span></code>: The number of threads (in str).
Providing the value <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> will let FFmpeg decides based on its heuristics.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;thread_type&quot;</span></code>: Which multithreading method to use.
The valid values are <code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>.
Note that each decoder supports different set of methods.
If not provided, a default value is used.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code>: Decode more than one frame at once.
Each thread handles one frame.
This will increase decoding delay by one frame per thread</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>: Decode more than one part of a single frame at once.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – <p>Change the format of image channels. Valid values are,</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;rgb24&quot;</span></code>: 8 bits * 3 channels (R, G, B)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;bgr24&quot;</span></code>: 8 bits * 3 channels (B, G, R)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;yuv420p&quot;</span></code>: 8 bits * 3 channels (Y, U, V)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;gray&quot;</span></code>: 8 bits * 1 channels</p></li>
</ul>
<p>Default: <code class="docutils literal notranslate"><span class="pre">&quot;rgb24&quot;</span></code>.</p>
</p></li>
<li><p><strong>frame_rate</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, change the frame rate.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, change the image width. Unit: Pixel.</p></li>
<li><p><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, change the image height. Unit: Pixel.</p></li>
<li><p><strong>hw_accel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Enable hardware acceleration.</p>
<p>When video is decoded on CUDA hardware, for example
<cite>decoder=”h264_cuvid”</cite>, passing CUDA device indicator to <cite>hw_accel</cite>
(i.e. <cite>hw_accel=”cuda:0”</cite>) will make StreamingMediaDecoder place the resulting
frames directly on the specified CUDA device as CUDA tensor.</p>
<p>If <cite>None</cite>, the frame will be moved to CPU memory.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="add-video-stream">
<h3>add_video_stream<a class="headerlink" href="#add-video-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.add_video_stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">add_video_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frames_per_chunk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decoder_option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_desc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hw_accel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.add_video_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.add_video_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Add output video stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames_per_chunk</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – <p>Number of frames returned as one chunk.
If the source stream is exhausted before enough frames are buffered,
then the chunk is returned as-is.</p>
<p>Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables chunking and <a class="reference internal" href="#torio.io.StreamingMediaDecoder.pop_chunks" title="torio.io.StreamingMediaDecoder.pop_chunks"><code class="xref py py-func docutils literal notranslate"><span class="pre">pop_chunks()</span></code></a> method
will concatenate all the buffered frames and return it.</p>
</p></li>
<li><p><strong>buffer_chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – <p>Internal buffer size.
When the number of chunks buffered exceeds this number, old frames are
dropped. For example, if <code class="docutils literal notranslate"><span class="pre">frames_per_chunk</span></code> is 5 and <code class="docutils literal notranslate"><span class="pre">buffer_chunk_size</span></code> is
3, then frames older than <code class="docutils literal notranslate"><span class="pre">15</span></code> are dropped.
Providing <code class="docutils literal notranslate"><span class="pre">-1</span></code> disables this behavior.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</p></li>
<li><p><strong>stream_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – The source video stream index.
If omitted, <a class="reference internal" href="#torio.io.StreamingMediaDecoder.default_video_stream" title="torio.io.StreamingMediaDecoder.default_video_stream"><code class="xref py py-attr docutils literal notranslate"><span class="pre">default_video_stream</span></code></a> is used.</p></li>
<li><p><strong>decoder</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>The name of the decoder to be used.
When provided, use the specified decoder instead of the default one.</p>
<p>To list the available decoders, please use
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_audio_decoders" title="torio.utils.ffmpeg_utils.get_audio_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_audio_decoders()</span></code></a> for audio, and
<a class="reference internal" href="torio.utils.ffmpeg_utils.html#torio.utils.ffmpeg_utils.get_video_decoders" title="torio.utils.ffmpeg_utils.get_video_decoders"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_video_decoders()</span></code></a> for video.</p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>decoder_option</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Options passed to decoder.
Mapping from str to str. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>To list decoder options for a decoder, you can use
<code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-h</span> <span class="pre">decoder=&lt;DECODER&gt;</span></code> command.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In addition to decoder-specific options, you can also pass options related
to multithreading. They are effective only if the decoder support them.
If neither of them are provided, StreamingMediaDecoder defaults to single thread.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;threads&quot;</span></code>: The number of threads (in str).
Providing the value <code class="docutils literal notranslate"><span class="pre">&quot;0&quot;</span></code> will let FFmpeg decides based on its heuristics.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;thread_type&quot;</span></code>: Which multithreading method to use.
The valid values are <code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>.
Note that each decoder supports different set of methods.
If not provided, a default value is used.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;frame&quot;</span></code>: Decode more than one frame at once.
Each thread handles one frame.
This will increase decoding delay by one frame per thread</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;slice&quot;</span></code>: Decode more than one part of a single frame at once.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</p></li>
<li><p><strong>hw_accel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Enable hardware acceleration.</p>
<p>When video is decoded on CUDA hardware, for example
<cite>decoder=”h264_cuvid”</cite>, passing CUDA device indicator to <cite>hw_accel</cite>
(i.e. <cite>hw_accel=”cuda:0”</cite>) will make StreamingMediaDecoder place the resulting
frames directly on the specified CUDA device as CUDA tensor.</p>
<p>If <cite>None</cite>, the frame will be moved to CPU memory.
Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</p></li>
<li><p><strong>filter_desc</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Filter description.
The list of available filters can be found at
<a class="reference external" href="https://ffmpeg.org/ffmpeg-filters.html">https://ffmpeg.org/ffmpeg-filters.html</a>
Note that complex filters are not supported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="fill-buffer">
<h3>fill_buffer<a class="headerlink" href="#fill-buffer" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.fill_buffer">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">fill_buffer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.fill_buffer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.fill_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep processing packets until all buffers have at least one chunk</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – See
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.process_packet" title="torio.io.StreamingMediaDecoder.process_packet"><code class="xref py py-func docutils literal notranslate"><span class="pre">process_packet()</span></code></a>. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>backoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – See
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.process_packet" title="torio.io.StreamingMediaDecoder.process_packet"><code class="xref py py-func docutils literal notranslate"><span class="pre">process_packet()</span></code></a>. (Default: <code class="docutils literal notranslate"><span class="pre">10.0</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><code class="docutils literal notranslate"><span class="pre">0</span></code>
Packets are processed properly and buffers are
ready to be popped once.</p>
<p><code class="docutils literal notranslate"><span class="pre">1</span></code>
The streamer reached EOF. All the output stream processors
flushed the pending frames. The caller should stop calling
this method.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="get-metadata">
<h3>get_metadata<a class="headerlink" href="#get-metadata" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.get_metadata">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata of the source media.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="get-out-stream-info">
<h3>get_out_stream_info<a class="headerlink" href="#get-out-stream-info" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.get_out_stream_info">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">get_out_stream_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#torio.io._streaming_media_decoder.OutputStream" title="torio.io._streaming_media_decoder.OutputStream"><span class="pre">OutputStream</span></a></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.get_out_stream_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.get_out_stream_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata of output stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Stream index.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>OutputStreamTypes</dt><dd><p>Information about the output stream.
If the output stream is audio type, then
<code class="xref py py-class docutils literal notranslate"><span class="pre">OutputAudioStream</span></code> is returned.
If it is video type, then
<code class="xref py py-class docutils literal notranslate"><span class="pre">OutputVideoStream</span></code> is returned.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="get-src-stream-info">
<h3>get_src_stream_info<a class="headerlink" href="#get-src-stream-info" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.get_src_stream_info">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">get_src_stream_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">InputStream</span></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.get_src_stream_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.get_src_stream_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata of source stream</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Stream index.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information about the source stream.
If the source stream is audio type, then
<code class="xref py py-class docutils literal notranslate"><span class="pre">SourceAudioStream</span></code> is returned.
If it is video type, then
<code class="xref py py-class docutils literal notranslate"><span class="pre">SourceVideoStream</span></code> is returned.
Otherwise <code class="xref py py-class docutils literal notranslate"><span class="pre">SourceStream</span></code> class is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>InputStreamTypes</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="is-buffer-ready">
<h3>is_buffer_ready<a class="headerlink" href="#is-buffer-ready" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.is_buffer_ready">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">is_buffer_ready</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.is_buffer_ready"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.is_buffer_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if all the output streams have at least one chunk filled.</p>
</dd></dl>

</div>
</section>
<section id="pop-chunks">
<h3>pop_chunks<a class="headerlink" href="#pop-chunks" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.pop_chunks">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">pop_chunks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torio.io._streaming_media_decoder.ChunkTensor" title="torio.io._streaming_media_decoder.ChunkTensor"><span class="pre">ChunkTensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.pop_chunks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.pop_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop one chunk from all the output stream buffers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Buffer contents.
If a buffer does not contain any frame, then <cite>None</cite> is returned instead.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[Optional[<a class="reference internal" href="#torio.io._streaming_media_decoder.ChunkTensor" title="torio.io._streaming_media_decoder.ChunkTensor">ChunkTensor</a>]]</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="process-all-packets">
<h3>process_all_packets<a class="headerlink" href="#process-all-packets" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.process_all_packets">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">process_all_packets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.process_all_packets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.process_all_packets" title="Permalink to this definition">¶</a></dt>
<dd><p>Process packets until it reaches EOF.</p>
</dd></dl>

</div>
</section>
<section id="process-packet">
<h3>process_packet<a class="headerlink" href="#process-packet" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.process_packet">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">process_packet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.process_packet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.process_packet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source media and process one packet.</p>
<p>If a packet is read successfully, then the data in the packet will
be decoded and passed to corresponding output stream processors.</p>
<p>If the packet belongs to a source stream that is not connected to
an output stream, then the data are discarded.</p>
<p>When the source reaches EOF, then it triggers all the output stream
processors to enter drain mode. All the output stream processors
flush the pending frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Timeout in milli seconds.</p>
<p>This argument changes the retry behavior when it failed to
process a packet due to the underlying media resource being
temporarily unavailable.</p>
<p>When using a media device such as a microphone, there are cases
where the underlying buffer is not ready.
Calling this function in such case would cause the system to report
<cite>EAGAIN (resource temporarily unavailable)</cite>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;=0</span></code>: Keep retrying until the given time passes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0&lt;</span></code>: Keep retrying forever.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code> : No retrying and raise an exception immediately.</p></li>
</ul>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The retry behavior is applicable only when the reason is the
unavailable resource. It is not invoked if the reason of failure is
other.</p>
</div>
</p></li>
<li><p><strong>backoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – <p>Time to wait before retrying in milli seconds.</p>
<p>This option is effective only when <cite>timeout</cite> is effective. (not <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p>
<p>When <cite>timeout</cite> is effective, this <cite>backoff</cite> controls how long the function
should wait before retrying. Default: <code class="docutils literal notranslate"><span class="pre">10.0</span></code>.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><code class="docutils literal notranslate"><span class="pre">0</span></code>
A packet was processed properly. The caller can keep
calling this function to buffer more frames.</p>
<p><code class="docutils literal notranslate"><span class="pre">1</span></code>
The streamer reached EOF. All the output stream processors
flushed the pending frames. The caller should stop calling
this method.</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="remove-stream">
<h3>remove_stream<a class="headerlink" href="#remove-stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.remove_stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">remove_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.remove_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.remove_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an output stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – Index of the output stream to be removed.</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="seek">
<h3>seek<a class="headerlink" href="#seek" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.seek">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'precise'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seek the stream to the given timestamp [second]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – Target time in second.</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – <p>Controls how seek is done.
Valid choices are;</p>
<ul>
<li><p>”key”: Seek into the nearest key frame before the given timestamp.</p></li>
<li><p>”any”: Seek into any frame (including non-key frames) before the given timestamp.</p></li>
<li><p>”precise”: First seek into the nearest key frame before the given timestamp, then
decode frames until it reaches the closes frame to the given timestamp.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the modes invalidate and reset the internal state of decoder.
When using “any” mode and if it ends up seeking into non-key frame,
the image decoded may be invalid due to lack of key frame.
Using “precise” will workaround this issue by decoding frames from previous
key frame, but will be slower.</p>
</div>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</section>
<section id="stream">
<h3>stream<a class="headerlink" href="#stream" title="Permalink to this heading">¶</a></h3>
<div class="py attribute docutils container">
<dl class="py method">
<dt class="sig sig-object py" id="torio.io.StreamingMediaDecoder.stream">
<span class="sig-prename descclassname"><span class="pre">StreamingMediaDecoder.</span></span><span class="sig-name descname"><span class="pre">stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backoff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterator" title="(in Python v3.12)"><span class="pre">Iterator</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#torio.io._streaming_media_decoder.ChunkTensor" title="torio.io._streaming_media_decoder.ChunkTensor"><span class="pre">ChunkTensor</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#StreamingMediaDecoder.stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io.StreamingMediaDecoder.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator that generates output tensors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – See
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.process_packet" title="torio.io.StreamingMediaDecoder.process_packet"><code class="xref py py-func docutils literal notranslate"><span class="pre">process_packet()</span></code></a>. (Default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p><strong>backoff</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – See
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.process_packet" title="torio.io.StreamingMediaDecoder.process_packet"><code class="xref py py-func docutils literal notranslate"><span class="pre">process_packet()</span></code></a>. (Default: <code class="docutils literal notranslate"><span class="pre">10.0</span></code>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterator that yields a tuple of chunks that correspond to the output
streams defined by client code.
If an output stream is exhausted, then the chunk Tensor is substituted
with <code class="docutils literal notranslate"><span class="pre">None</span></code>.
The iterator stops if all the output streams are exhausted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterator[Tuple[Optional[<a class="reference internal" href="#torio.io._streaming_media_decoder.ChunkTensor" title="torio.io._streaming_media_decoder.ChunkTensor">ChunkTensor</a>], …]]</p>
</dd>
</dl>
</dd></dl>

</div>
</section>
</section>
<section id="support-structures">
<h2>Support Structures<a class="headerlink" href="#support-structures" title="Permalink to this heading">¶</a></h2>
<section id="chunktensor">
<h3>ChunkTensor<a class="headerlink" href="#chunktensor" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.ChunkTensor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">ChunkTensor</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#ChunkTensor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.ChunkTensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Decoded media frames with metadata.</p>
<p>The instance of this class represents the decoded video/audio frames with
metadata, and the instance itself behave like <a class="reference external" href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a>.</p>
<p>Client codes can pass instance of this class as-if it’s
<a class="reference external" href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a> class, or call the methods defined on
<a class="reference external" href="https://pytorch.org/docs/stable/tensors.html#torch.Tensor" title="(in PyTorch v2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></a> class.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Define input streams</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">StreamingMediaDecoder</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span><span class="o">.</span><span class="n">add_audio_stream</span><span class="p">(</span><span class="n">frames_per_chunk</span><span class="o">=</span><span class="mi">4000</span><span class="p">,</span> <span class="n">sample_rate</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span><span class="o">.</span><span class="n">add_video_stream</span><span class="p">(</span><span class="n">frames_per_chunk</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">frame_rate</span><span class="o">=</span><span class="mi">28</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Decode the streams and fetch frames</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span><span class="o">.</span><span class="n">fill_buffer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">audio_chunk</span><span class="p">,</span> <span class="n">video_chunk</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">pop_chunks</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Access metadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">audio_chunk</span><span class="o">.</span><span class="n">pts</span><span class="p">,</span> <span class="n">video_chunks</span><span class="o">.</span><span class="n">pts</span><span class="p">)</span>
<span class="go">(0.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># The second time the PTS is different</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span><span class="o">.</span><span class="n">fill_buffer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">audio_chunk</span><span class="p">,</span> <span class="n">video_chunk</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">pop_chunks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">audio_chunk</span><span class="o">.</span><span class="n">pts</span><span class="p">,</span> <span class="n">video_chunks</span><span class="o">.</span><span class="n">pts</span><span class="p">)</span>
<span class="go">(0.5, 0.25)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Call PyTorch ops on chunk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">audio_chunk</span><span class="o">.</span><span class="n">shape</span>
<span class="go">torch.Size([4000, 2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">power</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">video_chunk</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># the result is a plain torch.Tensor class</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">power</span><span class="p">)</span>
<span class="go">&lt;class &#39;torch.Tensor&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Metadata is not available on the result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">power</span><span class="o">.</span><span class="n">pts</span>
<span class="go">AttributeError: &#39;Tensor&#39; object has no attribute &#39;pts&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.ChunkTensor.pts">
<span class="sig-name descname"><span class="pre">pts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.ChunkTensor.pts" title="Permalink to this definition">¶</a></dt>
<dd><p>Presentation time stamp of the first frame in the chunk.</p>
<p>Unit: second.</p>
</dd></dl>

</dd></dl>

</section>
<section id="sourcestream">
<h3>SourceStream<a class="headerlink" href="#sourcestream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">SourceStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#SourceStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata of a source stream, returned by <a class="reference internal" href="#torio.io.StreamingMediaDecoder.get_src_stream_info" title="torio.io.StreamingMediaDecoder.get_src_stream_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_src_stream_info()</span></code></a>.</p>
<p>This class is used when representing streams of media type other than <cite>audio</cite> or <cite>video</cite>.</p>
<p>When source stream is <cite>audio</cite> or <cite>video</cite> type, <a class="reference internal" href="#torio.io._streaming_media_decoder.SourceAudioStream" title="torio.io._streaming_media_decoder.SourceAudioStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceAudioStream</span></code></a> and
<a class="reference internal" href="#torio.io._streaming_media_decoder.SourceVideoStream" title="torio.io._streaming_media_decoder.SourceVideoStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceVideoStream</span></code></a>, which reports additional media-specific attributes,
are used respectively.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.media_type">
<span class="sig-name descname"><span class="pre">media_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the stream.
One of <code class="docutils literal notranslate"><span class="pre">&quot;audio&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;data&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;subtitle&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;attachment&quot;</span></code> and empty string.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only audio and video streams are supported for output.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Still images, such as PNG and JPEG formats are reported as video.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.codec">
<span class="sig-name descname"><span class="pre">codec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.codec" title="Permalink to this definition">¶</a></dt>
<dd><p>Short name of the codec. Such as <code class="docutils literal notranslate"><span class="pre">&quot;pcm_s16le&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;h264&quot;</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.codec_long_name">
<span class="sig-name descname"><span class="pre">codec_long_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.codec_long_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Detailed name of the codec.</p>
<p>Such as “<cite>PCM signed 16-bit little-endian</cite>” and “<cite>H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10</cite>”.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Media format. Such as <code class="docutils literal notranslate"><span class="pre">&quot;s16&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;yuv420p&quot;</span></code>.</p>
<p>Commonly found audio values are;</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;u8&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;u8p&quot;</span></code>: Unsigned 8-bit unsigned interger.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s16&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;s16p&quot;</span></code>: 16-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s32&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;s32p&quot;</span></code>: 32-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;flt&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fltp&quot;</span></code>: 32-bit floating-point.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>p</cite> at the end indicates the format is <cite>planar</cite>.
Channels are grouped together instead of interspersed in memory.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.bit_rate">
<span class="sig-name descname"><span class="pre">bit_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.bit_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bit rate of the stream in bits-per-second.
This is an estimated values based on the initial few frames of the stream.
For container formats and variable bit rate, it can be 0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.num_frames">
<span class="sig-name descname"><span class="pre">num_frames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.num_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of frames in the stream</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.bits_per_sample">
<span class="sig-name descname"><span class="pre">bits_per_sample</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.12)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.bits_per_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the number of valid bits in each output sample.
For compressed format, it can be 0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceStream.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceStream.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadata attached to the source stream.</p>
</dd></dl>

</dd></dl>

</section>
<section id="sourceaudiostream">
<h3>SourceAudioStream<a class="headerlink" href="#sourceaudiostream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceAudioStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">SourceAudioStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#SourceAudioStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceAudioStream" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata of an audio source stream, returned by <a class="reference internal" href="#torio.io.StreamingMediaDecoder.get_src_stream_info" title="torio.io.StreamingMediaDecoder.get_src_stream_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_src_stream_info()</span></code></a>.</p>
<p>This class is used when representing audio stream.</p>
<p>In addition to the attributes reported by <a class="reference internal" href="#torio.io._streaming_media_decoder.SourceStream" title="torio.io._streaming_media_decoder.SourceStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceStream</span></code></a>,
the following attributes are reported.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceAudioStream.sample_rate">
<span class="sig-name descname"><span class="pre">sample_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceAudioStream.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample rate of the audio.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceAudioStream.num_channels">
<span class="sig-name descname"><span class="pre">num_channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceAudioStream.num_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels.</p>
</dd></dl>

</dd></dl>

</section>
<section id="sourcevideostream">
<h3>SourceVideoStream<a class="headerlink" href="#sourcevideostream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceVideoStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">SourceVideoStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#SourceVideoStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceVideoStream" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata of a video source stream, returned by <a class="reference internal" href="#torio.io.StreamingMediaDecoder.get_src_stream_info" title="torio.io.StreamingMediaDecoder.get_src_stream_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_src_stream_info()</span></code></a>.</p>
<p>This class is used when representing video stream.</p>
<p>In addition to the attributes reported by <a class="reference internal" href="#torio.io._streaming_media_decoder.SourceStream" title="torio.io._streaming_media_decoder.SourceStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceStream</span></code></a>,
the following attributes are reported.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceVideoStream.width">
<span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceVideoStream.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Width of the video frame in pixel.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceVideoStream.height">
<span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceVideoStream.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of the video frame in pixel.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.SourceVideoStream.frame_rate">
<span class="sig-name descname"><span class="pre">frame_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.SourceVideoStream.frame_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Frame rate.</p>
</dd></dl>

</dd></dl>

</section>
<section id="outputstream">
<h3>OutputStream<a class="headerlink" href="#outputstream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">OutputStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#OutputStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Output stream configured on <a class="reference internal" href="#torio.io.StreamingMediaDecoder" title="torio.io._streaming_media_decoder.StreamingMediaDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">StreamingMediaDecoder</span></code></a>,
returned by <a class="reference internal" href="#torio.io.StreamingMediaDecoder.get_out_stream_info" title="torio.io.StreamingMediaDecoder.get_out_stream_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_out_stream_info()</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputStream.source_index">
<span class="sig-name descname"><span class="pre">source_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputStream.source_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Index of the source stream that this output stream is connected.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputStream.filter_description">
<span class="sig-name descname"><span class="pre">filter_description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputStream.filter_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Description of filter graph applied to the source stream.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputStream.media_type">
<span class="sig-name descname"><span class="pre">media_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputStream.media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of the stream. <code class="docutils literal notranslate"><span class="pre">&quot;audio&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;video&quot;</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputStream.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputStream.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Media format. Such as <code class="docutils literal notranslate"><span class="pre">&quot;s16&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;yuv420p&quot;</span></code>.</p>
<p>Commonly found audio values are;</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;u8&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;u8p&quot;</span></code>: Unsigned 8-bit unsigned interger.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s16&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;s16p&quot;</span></code>: 16-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;s32&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;s32p&quot;</span></code>: 32-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;flt&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fltp&quot;</span></code>: 32-bit floating-point.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><cite>p</cite> at the end indicates the format is <cite>planar</cite>.
Channels are grouped together instead of interspersed in memory.</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="outputaudiostream">
<h3>OutputAudioStream<a class="headerlink" href="#outputaudiostream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputAudioStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">OutputAudioStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#OutputAudioStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputAudioStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about an audio output stream configured with
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.add_audio_stream" title="torio.io.StreamingMediaDecoder.add_audio_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_audio_stream()</span></code></a> or
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.add_basic_audio_stream" title="torio.io.StreamingMediaDecoder.add_basic_audio_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_basic_audio_stream()</span></code></a>.</p>
<p>In addition to the attributes reported by <a class="reference internal" href="#torio.io._streaming_media_decoder.OutputStream" title="torio.io._streaming_media_decoder.OutputStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputStream</span></code></a>,
the following attributes are reported.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputAudioStream.sample_rate">
<span class="sig-name descname"><span class="pre">sample_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputAudioStream.sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample rate of the audio.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputAudioStream.num_channels">
<span class="sig-name descname"><span class="pre">num_channels</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputAudioStream.num_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels.</p>
</dd></dl>

</dd></dl>

</section>
<section id="outputvideostream">
<h3>OutputVideoStream<a class="headerlink" href="#outputvideostream" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputVideoStream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">torio.io._streaming_media_decoder.</span></span><span class="sig-name descname"><span class="pre">OutputVideoStream</span></span><a class="reference internal" href="../_modules/torio/io/_streaming_media_decoder.html#OutputVideoStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputVideoStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Information about a video output stream configured with
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.add_video_stream" title="torio.io.StreamingMediaDecoder.add_video_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_video_stream()</span></code></a> or
<a class="reference internal" href="#torio.io.StreamingMediaDecoder.add_basic_video_stream" title="torio.io.StreamingMediaDecoder.add_basic_video_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_basic_video_stream()</span></code></a>.</p>
<p>In addition to the attributes reported by <a class="reference internal" href="#torio.io._streaming_media_decoder.OutputStream" title="torio.io._streaming_media_decoder.OutputStream"><code class="xref py py-class docutils literal notranslate"><span class="pre">OutputStream</span></code></a>,
the following attributes are reported.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputVideoStream.width">
<span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputVideoStream.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Width of the video frame in pixel.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputVideoStream.height">
<span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputVideoStream.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of the video frame in pixel.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="torio.io._streaming_media_decoder.OutputVideoStream.frame_rate">
<span class="sig-name descname"><span class="pre">frame_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a></em><a class="headerlink" href="#torio.io._streaming_media_decoder.OutputVideoStream.frame_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Frame rate.</p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="torio.io.StreamingMediaEncoder.html" class="btn btn-neutral float-right" title="StreamingMediaEncoder" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
      
      
        <a href="../torio.io.html" class="btn btn-neutral" title="torio.io" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2024, Torchaudio Contributors.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>


        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">StreamingMediaDecoder</a><ul>
<li><a class="reference internal" href="#properties">Properties</a><ul>
<li><a class="reference internal" href="#default-audio-stream">default_audio_stream</a></li>
<li><a class="reference internal" href="#default-video-stream">default_video_stream</a></li>
<li><a class="reference internal" href="#num-out-streams">num_out_streams</a></li>
<li><a class="reference internal" href="#num-src-streams">num_src_streams</a></li>
</ul>
</li>
<li><a class="reference internal" href="#methods">Methods</a><ul>
<li><a class="reference internal" href="#add-audio-stream">add_audio_stream</a></li>
<li><a class="reference internal" href="#add-basic-audio-stream">add_basic_audio_stream</a></li>
<li><a class="reference internal" href="#add-basic-video-stream">add_basic_video_stream</a></li>
<li><a class="reference internal" href="#add-video-stream">add_video_stream</a></li>
<li><a class="reference internal" href="#fill-buffer">fill_buffer</a></li>
<li><a class="reference internal" href="#get-metadata">get_metadata</a></li>
<li><a class="reference internal" href="#get-out-stream-info">get_out_stream_info</a></li>
<li><a class="reference internal" href="#get-src-stream-info">get_src_stream_info</a></li>
<li><a class="reference internal" href="#is-buffer-ready">is_buffer_ready</a></li>
<li><a class="reference internal" href="#pop-chunks">pop_chunks</a></li>
<li><a class="reference internal" href="#process-all-packets">process_all_packets</a></li>
<li><a class="reference internal" href="#process-packet">process_packet</a></li>
<li><a class="reference internal" href="#remove-stream">remove_stream</a></li>
<li><a class="reference internal" href="#seek">seek</a></li>
<li><a class="reference internal" href="#stream">stream</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support-structures">Support Structures</a><ul>
<li><a class="reference internal" href="#chunktensor">ChunkTensor</a></li>
<li><a class="reference internal" href="#sourcestream">SourceStream</a></li>
<li><a class="reference internal" href="#sourceaudiostream">SourceAudioStream</a></li>
<li><a class="reference internal" href="#sourcevideostream">SourceVideoStream</a></li>
<li><a class="reference internal" href="#outputstream">OutputStream</a></li>
<li><a class="reference internal" href="#outputaudiostream">OutputAudioStream</a></li>
<li><a class="reference internal" href="#outputvideostream">OutputVideoStream</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  


  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
         <script src="../_static/doctools.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js"></script>
         <script src="../_static/katex_autorenderer.js"></script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <script type="text/javascript">
    var collapsedSections = ['API Tutorials', 'Pipeline Tutorials', 'Training Recipes']
    </script>
     
    <script type="text/javascript">
      $(document).ready(function() {
	  var downloadNote = $(".sphx-glr-download-link-note.admonition.note");
	  if (downloadNote.length >= 1) {
	      var tutorialUrl = $("#tutorial-type").text();
	      var githubLink = "https://github.com/pytorch/audio/blob/main/examples/"  + tutorialUrl + ".py",
		  notebookLink = $(".reference.download")[1].href,
		  notebookDownloadPath = notebookLink.split('_downloads')[1],
		  colabLink = "https://colab.research.google.com/github/pytorch/audio/blob/gh-pages/main/_downloads" + notebookDownloadPath;

	      $(".pytorch-call-to-action-links a[data-response='Run in Google Colab']").attr("href", colabLink);
	      $(".pytorch-call-to-action-links a[data-response='View on Github']").attr("href", githubLink);
	  }

          var overwrite = function(_) {
              if ($(this).length > 0) {
                  $(this)[0].href = "https://github.com/pytorch/audio"
              }
          }
          // PC
          $(".main-menu a:contains('GitHub')").each(overwrite);
          // Mobile
          $(".main-menu a:contains('Github')").each(overwrite);
      });

      
       $(window).ready(function() {
           var original = window.sideMenus.bind;
           var startup = true;
           window.sideMenus.bind = function() {
               original();
               if (startup) {
                   $("#pytorch-right-menu a.reference.internal").each(function(i) {
                       if (this.classList.contains("not-expanded")) {
                           this.nextElementSibling.style.display = "block";
                           this.classList.remove("not-expanded");
                           this.classList.add("expanded");
                       }
                   });
                   startup = false;
               }
           };
       });
    </script>

    


  <!-- Begin Footer -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://pytorch.org/docs/stable/index.html">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://pytorch.org/tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
        </div>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://pytorch.org/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/">PyTorch</a></li>
            <li><a href="https://pytorch.org/get-started">Get Started</a></li>
            <li><a href="https://pytorch.org/features">Features</a></li>
            <li><a href="https://pytorch.org/ecosystem">Ecosystem</a></li>
            <li><a href="https://pytorch.org/blog/">Blog</a></li>
            <li><a href="https://github.com/pytorch/pytorch/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://pytorch.org/resources">Resources</a></li>
            <li><a href="https://pytorch.org/tutorials">Tutorials</a></li>
            <li><a href="https://pytorch.org/docs/stable/index.html">Docs</a></li>
            <li><a href="https://discuss.pytorch.org" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/pytorch/pytorch/issues" target="_blank">Github Issues</a></li>
            <li><a href="https://pytorch.org/assets/brand-guidelines/PyTorch-Brand-Guidelines.pdf" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">Stay up to date</li>
            <li><a href="https://www.facebook.com/pytorch" target="_blank">Facebook</a></li>
            <li><a href="https://twitter.com/pytorch" target="_blank">Twitter</a></li>
            <li><a href="https://www.youtube.com/pytorch" target="_blank">YouTube</a></li>
            <li><a href="https://www.linkedin.com/company/pytorch" target="_blank">LinkedIn</a></li>
          </ul>  
          </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title">PyTorch Podcasts</li>
            <li><a href="https://open.spotify.com/show/6UzHKeiy368jKfQMKKvJY5" target="_blank">Spotify</a></li>
            <li><a href="https://podcasts.apple.com/us/podcast/pytorch-developer-podcast/id1566080008" target="_blank">Apple</a></li>
            <li><a href="https://www.google.com/podcasts?feed=aHR0cHM6Ly9mZWVkcy5zaW1wbGVjYXN0LmNvbS9PQjVGa0lsOA%3D%3D" target="_blank">Google</a></li>
            <li><a href="https://music.amazon.com/podcasts/7a4e6f0e-26c2-49e9-a478-41bd244197d0/PyTorch-Developer-Podcast?" target="_blank">Amazon</a></li>
          </ul>
         </div>
        </div>
        
        <div class="privacy-policy">
          <ul>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/terms/" target="_blank">Terms</a></li>
            <li class="privacy-policy-links">|</li>
            <li class="privacy-policy-links"><a href="https://www.linuxfoundation.org/privacy-policy/" target="_blank">Privacy</a></li>
          </ul>
        </div>
        <div class="copyright">
        <p>© Copyright The Linux Foundation. The PyTorch Foundation is a project of The Linux Foundation.
          For web site terms of use, trademark policy and other policies applicable to The PyTorch Foundation please see
          <a href="www.linuxfoundation.org/policies/">www.linuxfoundation.org/policies/</a>. The PyTorch Foundation supports the PyTorch open source
          project, which has been established as PyTorch Project a Series of LF Projects, LLC. For policies applicable to the PyTorch Project a Series of LF Projects, LLC,
          please see <a href="www.lfprojects.org/policies/">www.lfprojects.org/policies/</a>.</p>
      </div>
     </div>

  </footer>

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="https://pytorch.org/get-started">Get Started</a>
          </li>

          <li>
            <a href="https://pytorch.org/ecosystem">Ecosystem</a>
          </li>
            
          <li>
            <a href="https://pytorch.org/mobile">Mobile</a>
          </li>

          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>

          <li>
            <a href="https://pytorch.org/tutorials">Tutorials</a>
          </li>

          <li class="resources-mobile-menu-title">
            Docs
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://pytorch.org/docs/stable/index.html">PyTorch</a>
            </li>

            <li>
              <a href="https://pytorch.org/audio/stable/index.html">torchaudio</a>
            </li>

            <li>
              <a href="https://pytorch.org/text/stable/index.html">torchtext</a>
            </li>

            <li>
              <a href="https://pytorch.org/vision/stable/index.html">torchvision</a>
            </li>

            <li>
              <a href="https://pytorch.org/torcharrow">torcharrow</a>
            </li>

            <li>
              <a href="https://pytorch.org/data">TorchData</a>
            </li>

            <li>
              <a href="https://pytorch.org/torchrec">TorchRec</a>
            </li>

            <li>
              <a href="https://pytorch.org/serve/">TorchServe</a>
            </li>

            <li>
              <a href="https://pytorch.org/torchx/">TorchX</a>
            </li>

            <li>
              <a href="https://pytorch.org/xla">PyTorch on XLA Devices</a>
            </li>
          </ul>

          <li class="resources-mobile-menu-title">
            Resources
          </li>
            
           <ul class="resources-mobile-menu-items">

            <li>
              <a href="https://pytorch.org/features">About</a>
            </li>

            <li>
              <a href="https://pytorch.org/foundation">PyTorch Foundation</a>
            </li>

            <li>
              <a href="https://pytorch.org/#community-module">Community</a>
            </li>

            <li>
              <a href="https://pytorch.org/community-stories">Community Stories</a>
            </li>

            <li>
              <a href="https://pytorch.org/resources">Developer Resources</a>
            </li>

            <li>
              <a href="https://pytorch.org/events">Events</a>
            </li>

            <li>
              <a href="https://discuss.pytorch.org/">Forums</a>
            </li>

            <li>
              <a href="https://pytorch.org/hub">Models (Beta)</a>
            </li>
          </ul>

          <li>
            <a href="https://github.com/pytorch/pytorch">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>