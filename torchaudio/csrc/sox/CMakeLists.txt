set(
  sources
  io.cpp
  utils.cpp
  effects.cpp
  effects_chain.cpp
  types.cpp
  )
torchaudio_library(
  libtorchaudio_sox
  "${sources}"
  ""
  "torch;libsox"
  ""
  )

if (BUILD_TORCHAUDIO_PYTHON_EXTENSION)
  set(
    ext_sources
    pybind/pybind.cpp
    pybind/effects.cpp
    pybind/effects_chain.cpp
    pybind/io.cpp
    pybind/utils.cpp
    )
  torchaudio_extension(
    _torchaudio_sox
    "${ext_sources}"
    ""
    "libtorchaudio_sox"
    ""
    )
endif()
